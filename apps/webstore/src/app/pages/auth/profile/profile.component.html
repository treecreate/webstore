<div class="account-info-container">
    <form
        class="account-info-form"
        [formGroup]="accountInfoForm"
        name="accountInfoForm"
        (ngSubmit)="updateUser()"
    >
        <div class="title">
            <h2 i18n="@@account-info">Account Info</h2>
        </div>
        <div
            [ngClass]="isLoading ? 'hide-opacity' : 'show-opacity'"
            class="account-info-input"
        >
            <div class="sub-title">
                <p i18n="@@contact">Contact</p>
                <hr />
            </div>

            <div class="tc-input-group field">
                <input
                    type="text"
                    class="tc-input-field"
                    formControlName="name"
                    placeholder="Your name"
                    id="name"
                    autocomplete="name"
                />
                <label for="name" class="tc-input-label" i18n="@@name"
                    >Name</label
                >
            </div>

            <div
                class="error-message"
                *ngIf="
                    this.accountInfoForm.get('name').dirty &&
                    this.accountInfoForm.get('name').invalid
                "
                i18n="@@invalid-name"
            >
                Invalid name.
            </div>

            <div class="tc-input-group field">
                <input
                    type="text"
                    class="tc-input-field"
                    formControlName="phoneNumber"
                    placeholder="12345678"
                    name="phoneNumber"
                    id="phoneNumber"
                    autocomplete="phoneNumber"
                />
                <label
                    for="phoneNumber"
                    class="tc-input-label"
                    i18n="@@phone-number"
                    >Phone number</label
                >
            </div>

            <div
                class="error-message"
                *ngIf="
                    this.accountInfoForm.get('phoneNumber').dirty &&
                    this.accountInfoForm.get('phoneNumber').invalid
                "
                i18n="@@invalid-phone-number"
            >
                Invalid phone number.
            </div>

            <div class="tc-input-group field">
                <input
                    type="email"
                    class="tc-input-field"
                    placeholder="E-mail"
                    formControlName="email"
                    name="email"
                    id="profileEmail"
                    autocomplete="email"
                />
                <label for="email" class="tc-input-label">E-mail</label>
            </div>

            <div
                class="error-message"
                *ngIf="
                    this.accountInfoForm.get('email').dirty &&
                    this.accountInfoForm.get('email').invalid
                "
                i18n="@@invalid-email"
            >
                Invalid email.
            </div>

            <div class="sub-title top-margin">
                <p i18n="@@address">Adress</p>
                <hr />
            </div>

            <div class="tc-input-group field">
                <input
                    type="text"
                    class="tc-input-field"
                    name="streedOne"
                    formControlName="streetAddress"
                    placeholder="Your street name"
                    id="streetAddress"
                />
                <label
                    for="streetAddress"
                    class="tc-input-label"
                    i18n="@@street-address"
                    >Street address</label
                >
            </div>

            <div
                class="error-message"
                *ngIf="
                    this.accountInfoForm.get('streetAddress').dirty &&
                    this.accountInfoForm.get('streetAddress').invalid
                "
                i18n="@@invalid-street-address"
            >
                The address is too long.
            </div>

            <div class="tc-input-group field">
                <input
                    type="text"
                    class="tc-input-field"
                    name="streedTwo"
                    formControlName="streetAddress2"
                    placeholder="Your street name"
                    id="streetAddress2"
                />
                <label for="streetAddress2" class="tc-input-label">
                    <span i18n="@@street-address">Street address</span> 2</label
                >
            </div>

            <div
                class="error-message"
                *ngIf="
                    this.accountInfoForm.get('streetAddress2').dirty &&
                    this.accountInfoForm.get('streetAddress2').invalid
                "
                i18n="@@invalid-street-address"
            >
                The address is too long.
            </div>

            <div class="city-code-section">
                <div class="tc-input-group field">
                    <input
                        type="text"
                        class="tc-input-field"
                        name="city"
                        formControlName="city"
                        id="city"
                        placeholder="City"
                    />
                    <label for="city" class="tc-input-label" i18n="@@city"
                        >City</label
                    >
                    <div
                        class="error-message offset"
                        *ngIf="
                            this.accountInfoForm.get('city').dirty &&
                            this.accountInfoForm.get('city').invalid
                        "
                        i18n="@@invalid-city"
                    >
                        The city name is too long.
                    </div>
                </div>

                <div class="tc-input-group field">
                    <input
                        type="text"
                        class="tc-input-field"
                        formControlName="postcode"
                        id="postcode"
                        name="postcode"
                        placeholder="1234"
                    />
                    <label
                        for="postcode"
                        class="tc-input-label"
                        i18n="@@postcode"
                        >Postcode</label
                    >
                    <div
                        class="error-message offset"
                        *ngIf="
                            this.accountInfoForm.get('postcode').dirty &&
                            this.accountInfoForm.get('postcode').invalid
                        "
                        i18n="@@invalid-postcode"
                    >
                        Invalid danish postcode.
                    </div>
                </div>
            </div>

            <div class="actions">
                <div class="button-section">
                    <button
                        type="button"
                        class="tc-button-50 loading-spinner-btn"
                        *ngIf="isUpdatingUserInfo"
                        disabled
                    >
                        <span
                            class="spinner-border spinner-border-sm text-light"
                            style="margin: 5px"
                            role="status"
                            aria-hidden="true"
                        ></span>
                        <span i18n="@@updating">Updating...</span>
                    </button>
                    <button
                        type="submit"
                        class="tc-button-50"
                        [disabled]="isDisabled()"
                        [ngClass]="isDisabled() ? 'disabled' : ''"
                        *ngIf="!isUpdatingUserInfo"
                        i18n="@@update-info"
                    >
                        Update info
                    </button>
                    <button
                        class="tc-button-50"
                        routerLink="/collection"
                        (click)="scrollTop()"
                        i18n="@@collection"
                    >
                        Collection
                    </button>
                </div>
                <button
                    type="button"
                    class="tc-button-100 loading-spinner-btn"
                    *ngIf="!isVerified && isResendVerificationEmailLoading"
                    disabled
                >
                    <span
                        class="spinner-border spinner-border-sm text-light"
                        style="margin: 5px"
                        role="status"
                        aria-hidden="true"
                    ></span>
                    <span i18n="@@sending-email">Sending email...</span>
                </button>
                <button
                    type="button"
                    class="tc-button-100"
                    *ngIf="!isVerified && !isResendVerificationEmailLoading"
                    (click)="resendVerificationEmail()"
                    i18n="@@resend-verification-email"
                >
                    Resend verification e-mail
                </button>
            </div>
        </div>
    </form>
</div>
