<div class="modal-container add-transition">
    <form
        [formGroup]="addToBasketForm"
        (ngSubmit)="submit()"
        class="modal-content"
    >
        <div class="option-title">
            <div class="title">
                Title
                <webstore-info-popover
                    title="Title"
                    text="Add a good title so you can keep track of your designs."
                ></webstore-info-popover>
            </div>
            <div class="option-design-title add-transition">
                <input
                    type="text"
                    class="title-input"
                    placeholder="Untitled-1"
                    formControlName="title"
                />
            </div>
        </div>

        <!-- quantity -->
        <div class="option-quantity add-transition">
            <div class="text">
                <span> Quantity </span>
                <webstore-info-popover
                    title="Quantity"
                    text="The quantity of designs you wish to purchase."
                ></webstore-info-popover>
            </div>
            <div class="option add-transition">
                <button
                    class="box-size-plus tc-button-sm-square low-dropshadow"
                    (click)="decreaseQuantity()"
                    id="decrease-quantity-btn"
                >
                    <div class="icon">
                        <div class="button-minus"></div>
                    </div>
                </button>
                <div class="quantity">
                    {{ this.addToBasketForm.get('quantity').value }}
                </div>
                <button
                    class="box-size-plus tc-button-sm-square low-dropshadow"
                    (click)="increaseQuantity()"
                    id="increase-quantity-btn"
                >
                    <div class="button-plus"></div>
                </button>
            </div>
        </div>

        <!-- size -->
        <div class="option-size add-transition">
            <div class="text">
                <span> Size </span>
                <webstore-info-popover
                    title="Size"
                    text="The size of your design. You can choose between 20x20cm, 25x25cm and 30x30cm."
                ></webstore-info-popover>
            </div>
            <div class="option add-transition">
                <button
                    class="box-size-plus tc-button-sm-square low-dropshadow"
                    (click)="decreaseSize()"
                    id="decrease-size-btn"
                >
                    <div class="icon">
                        <div class="button-minus"></div>
                    </div>
                </button>
                <div class="quantity">
                    {{ this.addToBasketForm.get('dimension').value }}
                </div>
                <button
                    class="box-size-plus tc-button-sm-square low-dropshadow"
                    (click)="increaseSize()"
                    id="increase-size-btn"
                >
                    <div class="button-plus"></div>
                </button>
            </div>
        </div>

        <!-- Price -->
        <div class="price-container">
            <div class="isnt-more-than-4 add-transition" *ngIf="!isMoreThan4">
                <span>Save 25%</span
                ><span
                    >order
                    <!-- TODO: Make this display the full quantity of items in the basket -->
                    <!-- So it looks like this: 4 - ( addToBasketForm.get('quantity') + all basket items )  -->
                    {{ 4 - addToBasketForm.get('quantity').value }} more</span
                >
            </div>
            <div class="is-more-than-4 add-transition" *ngIf="isMoreThan4">
                <span>You save: (-25%)</span
                ><span>{{ (price * 0.25).toFixed(2) }}</span>
            </div>
            <div class="price add-transition">
                <span>Price:</span
                ><span>{{
                    isMoreThan4 ? (price * 0.75).toFixed(2) : price.toFixed(2)
                }}</span>
            </div>
        </div>

        <!-- Actions -->
        <div class="option-actions add-transition">
            <div class="button-container add-transition">
                <button class="tc-button-100 green" type="submit">
                    Add to basket
                </button>
                <button
                    class="tc-button-100"
                    type="button"
                    (click)="activeModal.close()"
                >
                    Cancel
                </button>
            </div>
        </div>

        <!-- Extra info -->
        <div class="text-container add-transition">
            <div class="extra-info add-transition">
                <strong> Note: <br /> </strong>
                For every design you purchase, you are automatically planting a
                tree. Thereby you support re-floreshing the forrests, which has
                never been a more vital task. <br />
                <strong> THANK YOU FOR YOUR SUPPORT!</strong>
            </div>
        </div>
    </form>
</div>
