<ngb-alert
    *ngIf="alert"
    [type]="alert.type"
    (closed)="alert = undefined"
    [dismissible]="alert.dismissible"
>
    <h3>{{ alert.type === 'danger' ? 'Error' : alert.type }}!</h3>
    {{ alert.message }}</ngb-alert
>
<div *ngIf="!alert" class="basket-item-container">
    <!-- <div class="item-title">
        {{ item.design.designProperties.title }}
    </div> -->

    <!-- image -->
    <div class="item-image">
        <!-- <div class="item-type-title" i18n="@@family-tree">Family tree</div> -->
        <webstore-family-tree-miniature
            #productDesign
            [design]="item.design.designProperties"
            [boxSize]="item.design.designProperties.boxSize"
            class="item-image"
        >
        </webstore-family-tree-miniature>
        <hr class="hr-class">
        <div class="item-type-title">
            <b>{{ item.design.designProperties.title }}</b>
        </div>
    </div>
    <div class="item-container">
        <!-- TODO - add spinners to the buttons based on the isLoading property -->
        <!-- quantity -->
        <div class="option-quantity">
            <div class="text">
                <span i18n="@@amount"> Amount </span>
            </div>
            <div class="option">
                <button
                    class="box-size-plus tc-button-sm-square low-dropshadow"
                    (click)="decreaseQuantity()"
                    [disabled]="item.quantity === 1"
                >
                    <div class="icon">
                        <div class="button-minus"></div>
                    </div>
                </button>
                <div class="quantity">
                    {{ item.quantity }}
                </div>
                <button
                    class="box-size-plus tc-button-sm-square low-dropshadow"
                    (click)="increaseQuantity()"
                >
                    <div class="button-plus"></div>
                </button>
            </div>
        </div>

        <!-- size -->
        <div class="option-size">
            <div class="text">
                <span i18n="@@size"> Size </span>
            </div>
            <div class="option">
                <button
                    class="box-size-plus tc-button-sm-square low-dropshadow"
                    (click)="decreaseSize()"
                    [disabled]="item.dimension === 'SMALL'"
                >
                    <div class="icon">
                        <div class="button-minus"></div>
                    </div>
                </button>
                <div class="quantity">
                    {{ item.dimension }}
                </div>
                <button
                    class="box-size-plus tc-button-sm-square low-dropshadow"
                    (click)="increaseSize()"
                    [disabled]="item.dimension === 'LARGE'"
                >
                    <div class="button-plus"></div>
                </button>
            </div>
        </div>

        <!-- price -->
        <div class="option-price">
            <div class="text">
                <span i18n="@@price"> Price </span>
            </div>
            <div class="option price-text">{{ itemPrice.toFixed(2) }} DKK</div>
        </div>
        <hr class="margin-top" />
        <!-- actions -->
        <div class="option-actions">
            <button
                class="tc-button-50 margin-top"
                [routerLink]="'/product'"
                [queryParams]="{ designId: item.design.designId }"
                i18n="@@view"
            >
                View
            </button>
            <button
                class="tc-button-50 margin-top"
                (click)="deleteTransactionItem()"
                i18n="@@delete"
            >
                Delete
            </button>
        </div>
    </div>
</div>
